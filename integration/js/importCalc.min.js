function garbagePerHabitant(a){return Math.abs(Math.ceil(100-(a-109)*(1/2.03)))}function accidentsCorporels(a){return Math.abs(Math.ceil(100-a*(1/1.53)))}function tauxDeChomage(a){return y=parseInt(a),Math.abs(Math.ceil(100-(y-2.62)*(1/.1062)))}function tauxDeNatalite(a){return Math.abs(Math.ceil((a-6.027)*(1/.16438)))}function tauxDeMortalite(a){return Math.abs(Math.ceil(100-(a-.878)*(1/.13422)))}function tauxDiplome(a){return y=parseInt(a),Math.abs(Math.ceil((y-72.271)*(1/.70984)))}function getDataFromUrl(a,t,e){var o=$.getJSON(a,function(a){$.each(a,function(a,e){t[e.Commune]=e}),communesdata.push(t),ultraCalc(t,e)});o.done(function(){})}function ultraCalc(a,t){if("accidents"==t)for(var e in a)a[e].accidentsNote=accidentsCorporels(a[e].a2015);if("dechets"==t)for(var e in a)a[e].dechetsNote=garbagePerHabitant(a[e]["Dechets menagers par habitant"]);if("chomage"==t)for(var e in a)a[e].chomageNote=tauxDeChomage(a[e].tauxChomage);if("mortNat"==t){for(var e in a)a[e].mortNote=tauxDeMortalite(a[e].mortalite);for(var e in a)a[e].naissanceNote=tauxDeNatalite(a[e].natalite)}if("diplomes"==t)for(var e in a)a[e].diplomesNote=tauxDiplome(a[e].Indice)}var communesdata=[],accidents=[],dechets=[],chomage=[],mortNat=[],diplomes=[],count=0,files=["https://raw.githubusercontent.com/ginma89/GoC/master/data/json/accidents.json","https://raw.githubusercontent.com/ginma89/GoC/master/data/json/dechetsMenages.json","https://raw.githubusercontent.com/ginma89/GoC/master/data/json/EmploiEtChomagepParCantonEtParCommune.json","https://raw.githubusercontent.com/ginma89/GoC/master/data/json/taux%20de%20mortalit%C3%A9%20et%20natalit%C3%A9.json","https://raw.githubusercontent.com/ginma89/GoC/master/data/json/Taux-dipl%C3%B4me%202011.json"];jQuery(document).ready(function(){getDataFromUrl(files[0],accidents,"accidents"),getDataFromUrl(files[1],dechets,"dechets"),getDataFromUrl(files[2],chomage,"chomage"),getDataFromUrl(files[3],mortNat,"mortNat"),getDataFromUrl(files[4],diplomes,"diplomes")});for(var paramsfetch=["naissanceNote","deces"],i=0;i<communesdata.length;i++){var parsedata=[];parsedata=communesdata[i];for(var j=0;j<communelist.length;j++)for(var j=0;j<communelist.length;j++)for(var parseobjetdata=[],fetchcommune=communelist[j],k=0;k<paramsfetch.length;k++)console.log(parsedata.communelist[j].paramsfetch[k])}