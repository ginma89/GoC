function garbagePerHabitant(t){return Math.abs(Math.ceil(100-(t-109)*(1/2.03)))}function accidentsCorporels(t){return Math.abs(Math.ceil(100-t*(1/1.53)))}function tauxDeChomage(t){return y=parseInt(t),Math.abs(Math.ceil(100-(y-2.62)*(1/.1062)))}function tauxDeNatalite(t){return Math.abs(Math.ceil((t-6.027)*(1/.16438)))}function tauxDeMortalite(t){return Math.abs(Math.ceil(100-(t-.878)*(1/.13422)))}function tauxDiplome(t){return y=parseInt(t),Math.abs(Math.ceil((y-72.271)*(1/.70984)))}function getDataFromUrl(t,e,a){var o=$.getJSON(t,function(t){$.each(t,function(t,a){e[a.Commune]=a}),communesdata.push(e),ultraCalc(e,a)});o.done(function(){})}function ultraCalc(t,e){if("accidents"==e)for(var a in t)t[a].accidentsNote=accidentsCorporels(t[a].a2015);if("dechets"==e)for(var a in t)t[a].dechetsNote=garbagePerHabitant(t[a]["Dechets menagers par habitant"]);if("chomage"==e)for(var a in t)t[a].chomageNote=tauxDeChomage(t[a].tauxChomage);if("mortNat"==e){for(var a in t)t[a].mortNote=tauxDeMortalite(t[a].mortalite);for(var a in t)t[a].naissanceNote=tauxDeNatalite(t[a].natalite)}if("diplomes"==e)for(var a in t)t[a].diplomesNote=tauxDiplome(t[a].Indice)}function parseData(t){for(var e={},a=0;a<communesdata.length;a++)for(var o in communesdata[a])"accidents"==t&&(e[o]={},e[o].accidentsNote=communesdata[a][o].accidentsNote,console.log(e));console.log(e)}function fusionn(){Object.assign(communesdata[0],communesdata[1],communesdata[2],communesdata[3])}function parseData2(){for(var t=["accidentsNote"],e=0;e<communesdata.length;e++){var a=[];a=communesdata[e];for(var o=0;o<communelist.length;o++)for(var r=(communelist[o],0);r<t.length;r++)console.log(a.communelist[o].paramsfetch[r])}}function parseDiplomes(){for(var t in diplomes)$(".data").append('<li name="'+diplomes[t].Commune+'" diplomeNotes="'+diplomes[t].diplomesNote+'" primaire="'+diplomes[t].primaire+'" secondaire="'+diplomes[t].secondaire+'" universitaire="'+diplomes[t].universitaire+'"></li');colorMap("diplomenotes","40","80"),textbuilder()}function parseData(){}var communesdata=[],accidents=[],dechets=[],chomage=[],mortNat=[],diplomes=[],count=0,files=["https://raw.githubusercontent.com/ginma89/GoC/master/data/json/accidents.json","https://raw.githubusercontent.com/ginma89/GoC/master/data/json/dechetsMenages.json","https://raw.githubusercontent.com/ginma89/GoC/master/data/json/EmploiEtChomagepParCantonEtParCommune.json","https://raw.githubusercontent.com/ginma89/GoC/master/data/json/taux%20de%20mortalit%C3%A9%20et%20natalit%C3%A9.json","https://raw.githubusercontent.com/ginma89/GoC/master/data/json/diplome.json"];jQuery(document).ready(function(){getDataFromUrl(files[0],accidents,"accidents"),getDataFromUrl(files[1],dechets,"dechets"),getDataFromUrl(files[2],chomage,"chomage"),getDataFromUrl(files[3],mortNat,"mortNat"),getDataFromUrl(files[4],diplomes,"diplomes"),setTimeout(function(){parseDiplomes()},800)}),jQuery(document).ready(function(){getDataFromUrl(files[0],accidents,"accidents"),getDataFromUrl(files[0],dechets,"dechets"),getDataFromUrl(files[2],chomage,"chomage"),getDataFromUrl(files[1],mortNat,"mortNat"),getDataFromUrl(files[4],diplomes,"diplomes")});